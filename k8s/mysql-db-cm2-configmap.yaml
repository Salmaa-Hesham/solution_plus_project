apiVersion: v1
data:
  initialize.sql: "-- initialize department table\nINSERT INTO uni_department (name,description) values ('computer_science','everything and anything binary');\nINSERT INTO uni_department (name,description) values ('mechanical','tons of physics and math');\nINSERT INTO uni_department (name,description) values ('buisness','fallback majors');\n\n-- initialize buildings table\nINSERT INTO uni_building (departmentid,name,description) values (\n    (SELECT id FROM uni_department WHERE name='computer_science'),\n    \"kelly\",\n    \"green energy building\"    \n);\n\nINSERT INTO uni_building (departmentid,name,description) values (\n    (SELECT id FROM uni_department WHERE name='mechanical'),\n    \"rogers\",\n    \"the castle looking building\"    \n);\n\nINSERT INTO uni_building (departmentid,name,description) values (\n    (SELECT id FROM uni_department WHERE name='buisness'),\n    \"austin\",\n    \"that one building next to linc\"    \n);\n\n-- initialize class table\nINSERT INTO uni_class (departmentid,buildingid,name,starttime,endtime) values(\n    (SELECT id FROM uni_department WHERE name='computer_science'),\n    (SELECT id FROM uni_building WHERE name='kelly'),\n    'intro_to_databases',\n    '13:00:00',\n    '14:50:00'\n);\n\nINSERT INTO uni_class (departmentid,buildingid,name,starttime,endtime) values(\n    (SELECT id FROM uni_department WHERE name='mechanical'),\n    (SELECT id FROM uni_building WHERE name='austin'),\n    'heat_transfer',\n    '08:00:00',\n    '08:50:00'\n);\n\nINSERT INTO uni_class (departmentid,buildingid,name,starttime,endtime) values(\n    (SELECT id FROM uni_department WHERE name='buisness'),\n    (SELECT id FROM uni_building WHERE name='austin'),\n    'microeconomics',\n    '12:00:00',\n    '13:50:00'\n);\n\n-- initialize student table\nINSERT INTO uni_student (firstname,lastname) values('kevin','turkington');\nINSERT INTO uni_student (firstname,lastname) values('john','doe');\nINSERT INTO uni_student (firstname,lastname) values('jane','doe');\n\n-- initialize class enrollment table\nINSERT INTO uni_class_enrollment (studentid,classid) values(\n    (SELECT id FROM uni_student WHERE firstname='kevin' and lastname='turkington'),\n    (SELECT id FROM uni_class WHERE name='intro_to_databases')\n);\n\nINSERT INTO uni_class_enrollment (studentid,classid) values(\n    (SELECT id FROM uni_student WHERE firstname='john' and lastname='doe'),\n    (SELECT id FROM uni_class WHERE name='microeconomics')\n);\n\nINSERT INTO uni_class_enrollment (studentid,classid) values(\n    (SELECT id FROM uni_student WHERE firstname='jane' and lastname='doe'),\n    (SELECT id FROM uni_class WHERE name='heat_transfer')\n);\n\n"
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
   service: mysql-db
  name: mysql-db-cm2
